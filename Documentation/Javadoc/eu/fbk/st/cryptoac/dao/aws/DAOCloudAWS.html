<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11) on Thu Apr 11 11:30:30 EDT 2019 -->
<title>DAOCloudAWS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-04-11">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DAOCloudAWS";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">eu.fbk.st.cryptoac.dao.aws</a></div>
<h2 title="Class DAOCloudAWS" class="title">Class DAOCloudAWS</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">eu.fbk.st.cryptoac.dao.DAOCloud</a></li>
<li>
<ul class="inheritance">
<li>eu.fbk.st.cryptoac.dao.aws.DAOCloudAWS</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">DAOCloudAWS</span>
extends <a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></pre>
<div class="block">This is the DAO implementation for AWS. Note that this is an example and, even though it works,
 as of now it is not efficient (for instance, files are uploaded to lambdas, thus execution this
 is long and expensive)
 Note that there is no need of having this database hosted by AWS, you can put it wherever
 you want. The only constraint is that it is a 8+ MySql DB
 For editing the properties, go to the "resources/crtpyoac/aws.properties" file
 See the documentation for what to do in order to setup the AWS service in the cloud</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.eu.fbk.st.cryptoac.dao.DAOCloud">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;eu.fbk.st.cryptoac.dao.<a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></h3>
<code><a href="../DAOCloud.html#addFileToCloud">addFileToCloud</a>, <a href="../DAOCloud.html#addPermissionTupleToCloud">addPermissionTupleToCloud</a>, <a href="../DAOCloud.html#addRoleToCloud">addRoleToCloud</a>, <a href="../DAOCloud.html#addRoleTupleToCloud">addRoleTupleToCloud</a>, <a href="../DAOCloud.html#addUserToCloud">addUserToCloud</a>, <a href="../DAOCloud.html#className">className</a>, <a href="../DAOCloud.html#DAOCloudAmazon">DAOCloudAmazon</a>, <a href="../DAOCloud.html#deleteFileFromCloud">deleteFileFromCloud</a>, <a href="../DAOCloud.html#deletePermissionTupleByRoleNameAndFileNameFromCloud">deletePermissionTupleByRoleNameAndFileNameFromCloud</a>, <a href="../DAOCloud.html#deletePermissionTupleByRoleNameAndVersionNumberFromCloud">deletePermissionTupleByRoleNameAndVersionNumberFromCloud</a>, <a href="../DAOCloud.html#deletePermissionTuplesByFileNameFromCloud">deletePermissionTuplesByFileNameFromCloud</a>, <a href="../DAOCloud.html#deleteRoleFromCloud">deleteRoleFromCloud</a>, <a href="../DAOCloud.html#deleteRoleTuplesByRoleNameAndVersionNumberFromCloud">deleteRoleTuplesByRoleNameAndVersionNumberFromCloud</a>, <a href="../DAOCloud.html#deleteRoleTuplesByRoleNameFromCloud">deleteRoleTuplesByRoleNameFromCloud</a>, <a href="../DAOCloud.html#deleteUserFromCloud">deleteUserFromCloud</a>, <a href="../DAOCloud.html#downloadFileFromCloud">downloadFileFromCloud</a>, <a href="../DAOCloud.html#getFileTuplesByFileNameFromCloud">getFileTuplesByFileNameFromCloud</a>, <a href="../DAOCloud.html#getFileVersionNumberFromCloud">getFileVersionNumberFromCloud</a>, <a href="../DAOCloud.html#getListOfFilesFromCloud">getListOfFilesFromCloud</a>, <a href="../DAOCloud.html#getPermissionTuplesByFileNameFromCloud">getPermissionTuplesByFileNameFromCloud</a>, <a href="../DAOCloud.html#getPermissionTuplesByRoleNameAndFileNameFromCloud">getPermissionTuplesByRoleNameAndFileNameFromCloud</a>, <a href="../DAOCloud.html#getPermissionTuplesByRoleNameFromCloud">getPermissionTuplesByRoleNameFromCloud</a>, <a href="../DAOCloud.html#getPublicKeyOfRoleFromCloud">getPublicKeyOfRoleFromCloud</a>, <a href="../DAOCloud.html#getPublicKeyOfUserFromCloud">getPublicKeyOfUserFromCloud</a>, <a href="../DAOCloud.html#getRoleTuplesByRoleNameFromCloud">getRoleTuplesByRoleNameFromCloud</a>, <a href="../DAOCloud.html#getRoleTuplesByUsernameAndRoleNameFromCloud">getRoleTuplesByUsernameAndRoleNameFromCloud</a>, <a href="../DAOCloud.html#getRoleTuplesByUsernameFromCloud">getRoleTuplesByUsernameFromCloud</a>, <a href="../DAOCloud.html#getRoleVersionNumberFromCloud">getRoleVersionNumberFromCloud</a>, <a href="../DAOCloud.html#lockDAOStatus">lockDAOStatus</a>, <a href="../DAOCloud.html#locksOnDAO">locksOnDAO</a>, <a href="../DAOCloud.html#rollback">rollback</a>, <a href="../DAOCloud.html#unlockDAOStatus">unlockDAOStatus</a>, <a href="../DAOCloud.html#updateFileInCloud">updateFileInCloud</a>, <a href="../DAOCloud.html#updateFileVersionNumberInCloud">updateFileVersionNumberInCloud</a>, <a href="../DAOCloud.html#updateRoleKeyInCloud">updateRoleKeyInCloud</a>, <a href="../DAOCloud.html#updateUserKeyInCloud">updateUserKeyInCloud</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DAOCloudAWS</a></span>()</code></th>
<td class="colLast">
<div class="block">Create the objects for accessing S3, Lambda and RDS
 NOTE: strings and byte arrays to store in the cloud MUST be converted in BASE64</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addFileToCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple,eu.fbk.st.cryptoac.tuple.PermissionTuple)">addFileToCloud</a></span>&#8203;(<a href="../../elements/File.html" title="class in eu.fbk.st.cryptoac.elements">File</a>&nbsp;newFile,
              <a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a>&nbsp;newFileTuple,
              <a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&nbsp;newPermissionTuple)</code></th>
<td class="colLast">
<div class="block">This function adds a new file to the cloud along with its metadata, the entry in the database
 table and related the permission tuple.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addPermissionTupleToCloud(eu.fbk.st.cryptoac.tuple.PermissionTuple)">addPermissionTupleToCloud</a></span>&#8203;(<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&nbsp;newPermissionTuple)</code></th>
<td class="colLast">
<div class="block">This function adds a PermissionTuple to the cloud

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addRoleToCloud(eu.fbk.st.cryptoac.elements.Role,eu.fbk.st.cryptoac.tuple.RoleTuple)">addRoleToCloud</a></span>&#8203;(<a href="../../elements/Role.html" title="class in eu.fbk.st.cryptoac.elements">Role</a>&nbsp;newRole,
              <a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&nbsp;newRoleTuple)</code></th>
<td class="colLast">
<div class="block">This function adds a new role to the cloud along with the admin's tuples.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addRoleTupleToCloud(eu.fbk.st.cryptoac.tuple.RoleTuple)">addRoleTupleToCloud</a></span>&#8203;(<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&nbsp;newRoleTupleBindingUserAndRole)</code></th>
<td class="colLast">
<div class="block">This function adds a RoleTuple to the cloud

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addUserToCloud(eu.fbk.st.cryptoac.elements.User)">addUserToCloud</a></span>&#8203;(<a href="../../elements/User.html" title="class in eu.fbk.st.cryptoac.elements">User</a>&nbsp;newUserToInsert)</code></th>
<td class="colLast">
<div class="block">This function adds a new user to the cloud.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteAllButFileTables()">deleteAllButFileTables</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteFileFromCloud(java.lang.String)">deleteFileFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">delete the given file from the currently used storage solution.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deletePermissionTupleByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">deletePermissionTupleByRoleNameAndFileNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName,
                                                   java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">delete the permission tuple that matches the given parameters

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deletePermissionTupleByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">deletePermissionTupleByRoleNameAndVersionNumberFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName,
                                                        int&nbsp;roleKeysVersionNumber)</code></th>
<td class="colLast">
<div class="block">delete the permission tuples that match the given parameters

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deletePermissionTuplesByFileNameFromCloud(java.lang.String)">deletePermissionTuplesByFileNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">delete all the permission tuples that match the given file name

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteRoleFromCloud(java.lang.String)">deleteRoleFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">delete the given role from the currently used storage solution
 Actually, like the user, this doesn't delete the role object,
 because its public key may be used to verify signatures.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteRoleTuplesByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">deleteRoleTuplesByRoleNameAndVersionNumberFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName,
                                                   int&nbsp;roleKeysVersionNumber)</code></th>
<td class="colLast">
<div class="block">delete the role tuples that match the given parameters.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteRoleTuplesByRoleNameFromCloud(java.lang.String)">deleteRoleTuplesByRoleNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">delete the role tuples that match the given parameter

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUserFromCloud(java.lang.String)">deleteUserFromCloud</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">delete the given user from the currently used storage solution.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.lang.Object[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#downloadFileFromCloud(java.lang.String,java.lang.String)">downloadFileFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName,
                     java.lang.String&nbsp;pathWhereToSaveFile)</code></th>
<td class="colLast">
<div class="block">this method queries the DAO to retrieve the LATEST version of the requested file

 Who can invoke this function? USERS ONLY</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFileTuplesByFileNameFromCloud(java.lang.String)">getFileTuplesByFileNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching FileTuple (so the file and its metadata)

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFileVersionNumberFromCloud(java.lang.String)">getFileVersionNumberFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">get the file version number (from the file object, not from fileTuple)

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>java.util.HashSet&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getListOfFilesFromCloud()">getListOfFilesFromCloud</a></span>()</code></th>
<td class="colLast">
<div class="block">simply return a list containing the IDs of files actually present in the cloud

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPermissionTuplesByFileNameFromCloud(java.lang.String)">getPermissionTuplesByFileNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching PermissionTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPermissionTuplesByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">getPermissionTuplesByRoleNameAndFileNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName,
                                                 java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching PermissionTuple

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPermissionTuplesByRoleNameFromCloud(java.lang.String)">getPermissionTuplesByRoleNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching PermissionTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.security.PublicKey</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPublicKeyOfRoleFromCloud(java.lang.String)">getPublicKeyOfRoleFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">this method queries the DAO to retrieve the key of a role

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>java.security.PublicKey</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPublicKeyOfUserFromCloud(java.lang.String)">getPublicKeyOfUserFromCloud</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">this method queries the DAO to retrieve the key of a user

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRoleTupleByUsernameAndRoleNameFromCloud(java.lang.String,java.lang.String)">getRoleTupleByUsernameAndRoleNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;username,
                                          java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching RoleTuple

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRoleTuplesByRoleNameFromCloud(java.lang.String)">getRoleTuplesByRoleNameFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching RoleTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>java.util.HashSet&lt;<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRoleTuplesByUsernameFromCloud(java.lang.String)">getRoleTuplesByUsernameFromCloud</a></span>&#8203;(java.lang.String&nbsp;username)</code></th>
<td class="colLast">
<div class="block">Query the specific DAO to get the matching RoleTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>java.lang.Integer</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRoleVersionNumberFromCloud(java.lang.String)">getRoleVersionNumberFromCloud</a></span>&#8203;(java.lang.String&nbsp;roleName)</code></th>
<td class="colLast">
<div class="block">get the role version number

 Who can invoke this function? BOTH ADMIN AND USER</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lockDAOStatus()">lockDAOStatus</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is invoked by the "User" class before starting a sequence of operations on the
 DAO to avoid inconsistencies when errors arise.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rollback()">rollback</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is invoked after a sequence of operations on the DAO
 stopped because of an error, and now the storage/database is in an inconsistent state.</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unlockDAOStatus()">unlockDAOStatus</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is invoked after a sequence of operations on the DAO
 went well in order to remove the lock from the storage
 NOTE: you should actually save files/commit changes
 only when every lock has been removed
 (thus the lock counter becomes 0)</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateFileInCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple)">updateFileInCloud</a></span>&#8203;(<a href="../../elements/File.html" title="class in eu.fbk.st.cryptoac.elements">File</a>&nbsp;updatedFile,
                 <a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a>&nbsp;updatedFileTuple)</code></th>
<td class="colLast">
<div class="block">update file in the cloud (usually corresponds to a "write" operation).</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateFileVersionNumberInCloud(java.lang.String)">updateFileVersionNumberInCloud</a></span>&#8203;(java.lang.String&nbsp;fileName)</code></th>
<td class="colLast">
<div class="block">increment the file version number by 1  (of the file object, not of fileTuple)

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateRoleKeyInCloud(java.lang.String,java.security.PublicKey)">updateRoleKeyInCloud</a></span>&#8203;(java.lang.String&nbsp;roleName,
                    java.security.PublicKey&nbsp;rolePublicKey)</code></th>
<td class="colLast">
<div class="block">update both the role's key and its version number (version number =+ 1)

 Who can invoke this function? ADMIN ONLY</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateUserKeyInCloud(java.lang.String,java.security.PublicKey)">updateUserKeyInCloud</a></span>&#8203;(java.lang.String&nbsp;username,
                    java.security.PublicKey&nbsp;userPublicKey)</code></th>
<td class="colLast">
<div class="block">update the user's public key in the cloud.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.eu.fbk.st.cryptoac.dao.DAOCloud">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;eu.fbk.st.cryptoac.dao.<a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></h3>
<code><a href="../DAOCloud.html#getDAO(java.lang.String)">getDAO</a>, <a href="../DAOCloud.html#initializeAdminInCloud(java.security.KeyPair)">initializeAdminInCloud</a>, <a href="../DAOCloud.html#logAtEndOfFunction(eu.fbk.st.cryptoac.enumerators.OperationOutcomeCode,java.lang.String,java.lang.Exception)">logAtEndOfFunction</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DAOCloudAWS</h4>
<pre>public&nbsp;DAOCloudAWS()
            throws java.io.IOException</pre>
<div class="block">Create the objects for accessing S3, Lambda and RDS
 NOTE: strings and byte arrays to store in the cloud MUST be converted in BASE64</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - exception when loading the configuration file</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="addUserToCloud(eu.fbk.st.cryptoac.elements.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addUserToCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addUserToCloud&#8203;(<a href="../../elements/User.html" title="class in eu.fbk.st.cryptoac.elements">User</a>&nbsp;newUserToInsert)
                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This function adds a new user to the cloud. Remember that
 users' IDs (username) are unique.

 Who can invoke this function? ADMIN ONLY

 Even though both the admin and normal users can invoke this function,
 but the effect is not the same. If the admin invokes this,
 the effect it to INSERT the given value in the users table.
 Instead, if a normal user invokes this function, the effect
 is to UPDATE the user_specific_row view with the public key</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#addUserToCloud(eu.fbk.st.cryptoac.elements.User)">addUserToCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newUserToInsert</code> - the user object to insert</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="addRoleToCloud(eu.fbk.st.cryptoac.elements.Role,eu.fbk.st.cryptoac.tuple.RoleTuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRoleToCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addRoleToCloud&#8203;(<a href="../../elements/Role.html" title="class in eu.fbk.st.cryptoac.elements">Role</a>&nbsp;newRole,
                           <a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&nbsp;newRoleTuple)
                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This function adds a new role to the cloud along with the admin's tuples.
 Remember that roles' IDs (role names) are unique

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#addRoleToCloud(eu.fbk.st.cryptoac.elements.Role,eu.fbk.st.cryptoac.tuple.RoleTuple)">addRoleToCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newRole</code> - the role to insert</dd>
<dd><code>newRoleTuple</code> - the tuple of role to insert</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="addFileToCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple,eu.fbk.st.cryptoac.tuple.PermissionTuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addFileToCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addFileToCloud&#8203;(<a href="../../elements/File.html" title="class in eu.fbk.st.cryptoac.elements">File</a>&nbsp;newFile,
                           <a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a>&nbsp;newFileTuple,
                           <a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&nbsp;newPermissionTuple)
                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This function adds a new file to the cloud along with its metadata, the entry in the database
 table and related the permission tuple. Remember that files' IDs (file names) are unique

 Who can invoke this function? USERS ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#addFileToCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple,eu.fbk.st.cryptoac.tuple.PermissionTuple)">addFileToCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newFile</code> - the new file</dd>
<dd><code>newFileTuple</code> - the new file tuple</dd>
<dd><code>newPermissionTuple</code> - the new permission tuple (giving the admin access to the file)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="addRoleTupleToCloud(eu.fbk.st.cryptoac.tuple.RoleTuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addRoleTupleToCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addRoleTupleToCloud&#8203;(<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&nbsp;newRoleTupleBindingUserAndRole)
                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This function adds a RoleTuple to the cloud

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#addRoleTupleToCloud(eu.fbk.st.cryptoac.tuple.RoleTuple)">addRoleTupleToCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newRoleTupleBindingUserAndRole</code> - the tuple to insert</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="addPermissionTupleToCloud(eu.fbk.st.cryptoac.tuple.PermissionTuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPermissionTupleToCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addPermissionTupleToCloud&#8203;(<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&nbsp;newPermissionTuple)
                               throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This function adds a PermissionTuple to the cloud

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#addPermissionTupleToCloud(eu.fbk.st.cryptoac.tuple.PermissionTuple)">addPermissionTupleToCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>newPermissionTuple</code> - the tuple to insert</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getRoleTuplesByUsernameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoleTuplesByUsernameFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&gt;&nbsp;getRoleTuplesByUsernameFromCloud&#8203;(java.lang.String&nbsp;username)
                                                              throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching RoleTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getRoleTuplesByUsernameFromCloud(java.lang.String)">getRoleTuplesByUsernameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - name of the user that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an hash set filled with the tuples, if any. Otherwise, an empty set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getRoleTuplesByRoleNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoleTuplesByRoleNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&gt;&nbsp;getRoleTuplesByRoleNameFromCloud&#8203;(java.lang.String&nbsp;roleName)
                                                              throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching RoleTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getRoleTuplesByRoleNameFromCloud(java.lang.String)">getRoleTuplesByRoleNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - name of the role that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an hash set filled with the tuples, if any. Otherwise, an empty set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getRoleTupleByUsernameAndRoleNameFromCloud(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoleTupleByUsernameAndRoleNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;<a href="../../tuple/RoleTuple.html" title="class in eu.fbk.st.cryptoac.tuple">RoleTuple</a>&nbsp;getRoleTupleByUsernameAndRoleNameFromCloud&#8203;(java.lang.String&nbsp;username,
                                                            java.lang.String&nbsp;roleName)
                                                     throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching RoleTuple

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getRoleTupleByUsernameAndRoleNameFromCloud(java.lang.String,java.lang.String)">getRoleTupleByUsernameAndRoleNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - name of the user that has to match in the tuple</dd>
<dd><code>roleName</code> - name of the role that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the matching role tuple, if any. Otherwise, null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getPermissionTuplesByRoleNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissionTuplesByRoleNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;&nbsp;getPermissionTuplesByRoleNameFromCloud&#8203;(java.lang.String&nbsp;roleName)
                                                                          throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching PermissionTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getPermissionTuplesByRoleNameFromCloud(java.lang.String)">getPermissionTuplesByRoleNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - name of the role that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an hash set filled with the tuples, if any. Otherwise, an empty set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getPermissionTuplesByFileNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissionTuplesByFileNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;&nbsp;getPermissionTuplesByFileNameFromCloud&#8203;(java.lang.String&nbsp;fileName)
                                                                          throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching PermissionTuples

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getPermissionTuplesByFileNameFromCloud(java.lang.String)">getPermissionTuplesByFileNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - name of the file that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an hash set filled with the tuples, if any. Otherwise, an empty set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getPermissionTuplesByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPermissionTuplesByRoleNameAndFileNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;<a href="../../tuple/PermissionTuple.html" title="class in eu.fbk.st.cryptoac.tuple">PermissionTuple</a>&gt;&nbsp;getPermissionTuplesByRoleNameAndFileNameFromCloud&#8203;(java.lang.String&nbsp;roleName,
                                                                                            java.lang.String&nbsp;fileName)
                                                                                     throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching PermissionTuple

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getPermissionTuplesByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">getPermissionTuplesByRoleNameAndFileNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - name of the role that has to match in the tuple</dd>
<dd><code>fileName</code> - name of the file that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an hash set filled with the tuples, if any. Otherwise, an empty set. Note that there can be multiple
 permission tuples for the same combination file-role (read referenced paper for details)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getFileTuplesByFileNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileTuplesByFileNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;<a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a>&nbsp;getFileTuplesByFileNameFromCloud&#8203;(java.lang.String&nbsp;fileName)
                                           throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">Query the specific DAO to get the matching FileTuple (so the file and its metadata)

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getFileTuplesByFileNameFromCloud(java.lang.String)">getFileTuplesByFileNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - name of the file that has to match in the tuple</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the matching file tuple, if any. Otherwise, null</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getListOfFilesFromCloud()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getListOfFilesFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.util.HashSet&lt;java.lang.String&gt;&nbsp;getListOfFilesFromCloud()
                                                            throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">simply return a list containing the IDs of files actually present in the cloud

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getListOfFilesFromCloud()">getListOfFilesFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list containing the IDs of the files actually present in the cloud, if any. Otherwise, an empty set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getPublicKeyOfUserFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicKeyOfUserFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.security.PublicKey&nbsp;getPublicKeyOfUserFromCloud&#8203;(java.lang.String&nbsp;username)
                                                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">this method queries the DAO to retrieve the key of a user

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getPublicKeyOfUserFromCloud(java.lang.String)">getPublicKeyOfUserFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the id of the user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the key of the user or null if the user doesn't exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException
 message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getPublicKeyOfRoleFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPublicKeyOfRoleFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.security.PublicKey&nbsp;getPublicKeyOfRoleFromCloud&#8203;(java.lang.String&nbsp;roleName)
                                                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">this method queries the DAO to retrieve the key of a role

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getPublicKeyOfRoleFromCloud(java.lang.String)">getPublicKeyOfRoleFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the id of the role</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the key of the role or null if the role doesn't exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getRoleVersionNumberFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRoleVersionNumberFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.lang.Integer&nbsp;getRoleVersionNumberFromCloud&#8203;(java.lang.String&nbsp;roleName)
                                                throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">get the role version number

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getRoleVersionNumberFromCloud(java.lang.String)">getRoleVersionNumberFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the ID of the role</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the version number or null if the role doesn't exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="getFileVersionNumberFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFileVersionNumberFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.lang.Integer&nbsp;getFileVersionNumberFromCloud&#8203;(java.lang.String&nbsp;fileName)
                                                throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">get the file version number (from the file object, not from fileTuple)

 Who can invoke this function? BOTH ADMIN AND USER</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#getFileVersionNumberFromCloud(java.lang.String)">getFileVersionNumberFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the ID of the file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the version number, null if the file doesn't exist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteUserFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUserFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteUserFromCloud&#8203;(java.lang.String&nbsp;username)
                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the given user from the currently used storage solution. Actually, you don't
 delete it, because we may need his key later on to verify some signatures. So just sets a flag

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deleteUserFromCloud(java.lang.String)">deleteUserFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the ID of the user</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteRoleFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRoleFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteRoleFromCloud&#8203;(java.lang.String&nbsp;roleName)
                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the given role from the currently used storage solution
 Actually, like the user, this doesn't delete the role object,
 because its public key may be used to verify signatures. So jut flag it

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deleteRoleFromCloud(java.lang.String)">deleteRoleFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the ID of the role</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteFileFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteFileFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteFileFromCloud&#8203;(java.lang.String&nbsp;fileName)
                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the given file from the currently used storage solution. This methods should both delete
 the file entry from the database/file/storage and the file itself from the cloud (thus the file tuple)

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deleteFileFromCloud(java.lang.String)">deleteFileFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the ID of the file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteRoleTuplesByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRoleTuplesByRoleNameAndVersionNumberFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteRoleTuplesByRoleNameAndVersionNumberFromCloud&#8203;(java.lang.String&nbsp;roleName,
                                                                int&nbsp;roleKeysVersionNumber)
                                                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the role tuples that match the given parameters.

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deleteRoleTuplesByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">deleteRoleTuplesByRoleNameAndVersionNumberFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the role to which the tuple must belong to</dd>
<dd><code>roleKeysVersionNumber</code> - the version number of the tuple</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteRoleTuplesByRoleNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteRoleTuplesByRoleNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteRoleTuplesByRoleNameFromCloud&#8203;(java.lang.String&nbsp;roleName)
                                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the role tuples that match the given parameter

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deleteRoleTuplesByRoleNameFromCloud(java.lang.String)">deleteRoleTuplesByRoleNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the role to which the tuple must belong to</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deletePermissionTuplesByFileNameFromCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletePermissionTuplesByFileNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deletePermissionTuplesByFileNameFromCloud&#8203;(java.lang.String&nbsp;fileName)
                                               throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete all the permission tuples that match the given file name

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deletePermissionTuplesByFileNameFromCloud(java.lang.String)">deletePermissionTuplesByFileNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the name of the file bounded to the tuple</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deletePermissionTupleByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletePermissionTupleByRoleNameAndFileNameFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deletePermissionTupleByRoleNameAndFileNameFromCloud&#8203;(java.lang.String&nbsp;roleName,
                                                                java.lang.String&nbsp;fileName)
                                                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the permission tuple that matches the given parameters

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deletePermissionTupleByRoleNameAndFileNameFromCloud(java.lang.String,java.lang.String)">deletePermissionTupleByRoleNameAndFileNameFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the name of the role bounded to the tuple</dd>
<dd><code>fileName</code> - the nmae of the file bounded to the tuple</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deletePermissionTupleByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deletePermissionTupleByRoleNameAndVersionNumberFromCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deletePermissionTupleByRoleNameAndVersionNumberFromCloud&#8203;(java.lang.String&nbsp;roleName,
                                                                     int&nbsp;roleKeysVersionNumber)
                                                              throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">delete the permission tuples that match the given parameters

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#deletePermissionTupleByRoleNameAndVersionNumberFromCloud(java.lang.String,int)">deletePermissionTupleByRoleNameAndVersionNumberFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the role to which the tuple must belong to</dd>
<dd><code>roleKeysVersionNumber</code> - the version number of the tuple</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="updateUserKeyInCloud(java.lang.String,java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateUserKeyInCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateUserKeyInCloud&#8203;(java.lang.String&nbsp;username,
                                 java.security.PublicKey&nbsp;userPublicKey)
                          throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">update the user's public key in the cloud. The DAO should check that the invoker of this function
 is modifying its own entry in the database, not others. In this case, this is done by setting
 row-level privileges in the database
 This function is invoked when the new user registers into the system

 Who can invoke this function? USER ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#updateUserKeyInCloud(java.lang.String,java.security.PublicKey)">updateUserKeyInCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>username</code> - the ID of the user</dd>
<dd><code>userPublicKey</code> - the new key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
                      For better user experience, add the proper OperationOutcomeCode code to the DAOException
                      message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="updateRoleKeyInCloud(java.lang.String,java.security.PublicKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRoleKeyInCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateRoleKeyInCloud&#8203;(java.lang.String&nbsp;roleName,
                                 java.security.PublicKey&nbsp;rolePublicKey)
                          throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">update both the role's key and its version number (version number =+ 1)

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#updateRoleKeyInCloud(java.lang.String,java.security.PublicKey)">updateRoleKeyInCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>roleName</code> - the ID of the role</dd>
<dd><code>rolePublicKey</code> - the new key</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="updateFileVersionNumberInCloud(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFileVersionNumberInCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateFileVersionNumberInCloud&#8203;(java.lang.String&nbsp;fileName)
                                    throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">increment the file version number by 1  (of the file object, not of fileTuple)

 Who can invoke this function? ADMIN ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#updateFileVersionNumberInCloud(java.lang.String)">updateFileVersionNumberInCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the filename</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="updateFileInCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateFileInCloud</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateFileInCloud&#8203;(<a href="../../elements/File.html" title="class in eu.fbk.st.cryptoac.elements">File</a>&nbsp;updatedFile,
                              <a href="../../tuple/FileTuple.html" title="class in eu.fbk.st.cryptoac.tuple">FileTuple</a>&nbsp;updatedFileTuple)
                       throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">update file in the cloud (usually corresponds to a "write" operation). The behaviour is
 overwriting (or versioning, if supported) the previous file. If the file didn't exist before,
 return error

 Who can invoke this function? USERS ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#updateFileInCloud(eu.fbk.st.cryptoac.elements.File,eu.fbk.st.cryptoac.tuple.FileTuple)">updateFileInCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>updatedFile</code> - the updated file</dd>
<dd><code>updatedFileTuple</code> - the updated file tuple</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="downloadFileFromCloud(java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloadFileFromCloud</h4>
<pre class="methodSignature">public&nbsp;java.lang.Object[]&nbsp;downloadFileFromCloud&#8203;(java.lang.String&nbsp;fileName,
                                                java.lang.String&nbsp;pathWhereToSaveFile)
                                         throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">this method queries the DAO to retrieve the LATEST version of the requested file

 Who can invoke this function? USERS ONLY</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#downloadFileFromCloud(java.lang.String,java.lang.String)">downloadFileFromCloud</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the id of the file</dd>
<dd><code>pathWhereToSaveFile</code> - path where to save the downloaded file</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>two objects: File and FileTuple, if any. Null otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="lockDAOStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lockDAOStatus</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;lockDAOStatus()
                   throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This method is invoked by the "User" class before starting a sequence of operations on the
 DAO to avoid inconsistencies when errors arise. For instance, this method could
 take a snapshot of the storage solution in order to be able to rollback in case
 something goes wrong, or (if using a MySQL database) set the "autocommit" flag to OFF
 Note: if the method was already invoked once (and the lock was not already released by "unlockDAOStatus"
 or "rollback", further invocations should just increment a counter and return "true" without doing anything.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#lockDAOStatus()">lockDAOStatus</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="unlockDAOStatus()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unlockDAOStatus</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;unlockDAOStatus()
                     throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This method is invoked after a sequence of operations on the DAO
 went well in order to remove the lock from the storage
 NOTE: you should actually save files/commit changes
 only when every lock has been removed
 (thus the lock counter becomes 0)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#unlockDAOStatus()">unlockDAOStatus</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException
 message (both number and message)</dd>
</dl>
</li>
</ul>
<a id="rollback()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollback</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;rollback()
              throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<div class="block">This method is invoked after a sequence of operations on the DAO
 stopped because of an error, and now the storage/database is in an inconsistent state.
 NOTE: for performance reasons, you should actually rollback only when every lock has been removed
 (thus the lock counter becomes 0)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../DAOCloud.html#rollback()">rollback</a></code>&nbsp;in class&nbsp;<code><a href="../DAOCloud.html" title="class in eu.fbk.st.cryptoac.dao">DAOCloud</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code> - if something went wrong in the process, just throw an DAOException.
 For better user experience, add the proper OperationOutcomeCode code to the DAOException message
 (both number and message)</dd>
</dl>
</li>
</ul>
<a id="deleteAllButFileTables()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteAllButFileTables</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteAllButFileTables()
                            throws <a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../util/exceptions/DAOException.html" title="class in eu.fbk.st.cryptoac.util.exceptions">DAOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
