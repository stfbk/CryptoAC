# CryptoAC | Documentation | Data Manager

The Data Manager (DM) is the entity managing encrypted data, for instance when at-rest (e.g., Cloud) or in-transit (e.g., MQTT). This entity can be operated by a partially-trusted agent, as data are always encrypted when handled by the Data Manager (DM). Concretely, the DM can be a service storing data in the cloud (e.g., AWS S3) or managing the transmission of data (e.g., an MQTT broker).

In detail, the following implementations of the DM are available (between square parenthesis there is the list of scenarios compatible with the related implementation):
* [CLOUD] **DMCloud** - the DM is implemented by *CryptoAC* and exposes six RESTful APIs. One API is reserved to the administrator and allows to configure the DM (e.g., by providing URLs of OPA). Four APIs follow the Create, Read, Update and Delete (CRUD) paradigm. Normal users can invoke the Read API, while Create, Update and Delete can be invoked by the administrator only. New or updated files are stored in a temporary upload directory. Only when the RM confirms the compliance of the operation, the DM moves the files to the actual storage directory from which users can download them. Otherwise, the sixth API allows to delete temporary files in case of errors. See the [**documentation**](./swagger_CryptoAC_DM.yaml) for more information on the APIs;
* [MQTT] **Mosquitto MQTT Broker** - the DM is implemented by the [**Mosquitto MQTT broker**](https://mosquitto.org/) enhanced with the dynamic security (dynsec) plugin. The administrator creates topics by publishing retained messages containing useful metadata (i.e., the version number of the symmetric key to be used to en/decrypt messages sent in the topic). Moreover, the administrator used the Mosquitto DYNamic SECurity (DYNSEC) plugin to provide a double layer of security.